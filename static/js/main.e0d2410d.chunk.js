(this.webpackJsonpxsolla_pr=this.webpackJsonpxsolla_pr||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(4),i=n.n(o),r=n(8),l=n.n(r),s=n(10),u=n(2),j=n(6),d=Object(j.b)({name:"events",initialState:{loading:!0,events:[]},reducers:{eventsLoaded:function(e,t){e.loading=!1,e.events=t.payload},favouriteChanged:function(e,t){e.events=e.events.map((function(e){return e.id!==t.payload.id?e:Object(u.a)(Object(u.a)({},e),{},{favourite:!t.payload.favourite})}))},shownChanged:function(e,t){e.events=e.events.map((function(e){return t.payload.city!==e.city&&"all"!==t.payload.city||t.payload.month!==e.date.split(".")[1]&&"all"!==t.payload.month||t.payload.favourite&&!0!==e.favourite?Object(u.a)(Object(u.a)({},e),{},{shown:!1}):Object(u.a)(Object(u.a)({},e),{},{shown:!0})}))}}}),b=d.actions,h=d.reducer,v=b.eventsLoaded,O=b.favouriteChanged,m=b.shownChanged,f=n(3),p=n(1),x=function(e){var t=Object(f.b)();return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"event-group",style:{backgroundImage:'url("'.concat(e.image,'")')},children:[Object(p.jsx)("div",{className:"event-date-cont",children:Object(p.jsx)("div",{className:"event-date",children:e.date.split(".")[0]})}),Object(p.jsx)("span",{className:"event-title",children:e.name}),Object(p.jsx)("div",{className:"event-favourite",style:{backgroundColor:e.favourite?"yellow":"white"},onClick:function(){var n;t(O(n=e)),localStorage.getItem("'".concat(n.id,"'"))?localStorage.removeItem("'".concat(n.id,"'")):localStorage.setItem("'".concat(n.id,"'"),"'".concat(n.id,"'"))}})]})})},g=n(5),y=n(12),N=function(){var e=Object(f.b)(),t=Object(a.useState)({city:"all",month:"all",favourite:!1}),n=Object(y.a)(t,2),c=n[0],o=n[1],i=function(e){o((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(g.a)({},e.target.name,e.target.value||e.target.checked))}))};return Object(a.useEffect)((function(){e(m(c))}),[c,e]),Object(p.jsxs)("form",{style:{marginLeft:"70px"},children:[Object(p.jsxs)("label",{className:"text",children:["City:",Object(p.jsxs)("select",{defaultValue:c.city,onChange:i,name:"city",className:"select",children:[Object(p.jsx)("option",{value:"all",children:"All"}),Object(p.jsx)("option",{value:"Amsterdam",children:"Amsterdam"}),Object(p.jsx)("option",{value:"Berlin",children:"Berlin"}),Object(p.jsx)("option",{value:"Rim",children:"Rim"}),Object(p.jsx)("option",{value:"St.Petersburg",children:"St.Petersburg"})]})]}),Object(p.jsxs)("label",{className:"text",children:["Month:",Object(p.jsxs)("select",{defaultValue:c.month,onChange:i,name:"month",className:"select",children:[Object(p.jsx)("option",{value:"all",children:"All"}),Object(p.jsx)("option",{value:"01",children:"January"}),Object(p.jsx)("option",{value:"02",children:"February"}),Object(p.jsx)("option",{value:"03",children:"March"}),Object(p.jsx)("option",{value:"04",children:"April"}),Object(p.jsx)("option",{value:"05",children:"May"}),Object(p.jsx)("option",{value:"06",children:"June"}),Object(p.jsx)("option",{value:"07",children:"July"}),Object(p.jsx)("option",{value:"08",children:"August"}),Object(p.jsx)("option",{value:"09",children:"September"}),Object(p.jsx)("option",{value:"10",children:"October"}),Object(p.jsx)("option",{value:"11",children:"November"}),Object(p.jsx)("option",{value:"12",children:"December"})]})]}),Object(p.jsxs)("label",{className:"text",children:["Favourite:",Object(p.jsx)("input",{type:"checkbox",checked:c.favourite,value:void 0,name:"favourite",onChange:i})]})]})};var w=function(){var e=Object(f.b)();Object(a.useEffect)((function(){e(function(){var e=Object(s.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://raw.githubusercontent.com/xsolla/xsolla-frontend-school-2021/main/events.json");case 2:return n=e.sent,e.next=5,n.json();case 5:a=(a=e.sent).map((function(e){var t=localStorage.getItem("'".concat(e.id,"'"));return Object(u.a)(Object(u.a)({},e),{},{favourite:!!t,shown:!0})})),t(v(a));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]);var t=Object(f.c)((function(e){return e.events}));return t=t.filter((function(e){return e.shown})),Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("h1",{className:"heading",children:"Event Listing"}),Object(p.jsx)(N,{}),Object(p.jsx)("div",{className:"container2",children:t.length?t.map((function(e){return Object(p.jsx)(x,{id:e.id,name:e.name,date:e.date,city:e.city,genre:e.genre,image:e.image,favourite:e.favourite,shown:e.shown},e.id)})):Object(p.jsx)("h1",{className:"heading",children:"No such Events"})})]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),o(e),i(e)}))},S=(n(25),Object(j.a)({reducer:h}));i.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(f.a,{store:S,children:Object(p.jsx)(w,{})})}),document.getElementById("root")),C()}},[[26,1,2]]]);
//# sourceMappingURL=main.e0d2410d.chunk.js.map